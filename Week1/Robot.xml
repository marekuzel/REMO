<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.6//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_6.dtd'>
<nta>
	<declaration>// Place global declarations here.
int height = 2;
int width = 2;
int world[3][3] = {{0,0,0},{0,0,0}, {0,0,0}};

//wining condition
int win [3][3] = { {1,1,1}, {1,1,1}, {1,1,1} };</declaration>
	<template>
		<name x="5" y="5">Robot</name>
		<declaration>int x = 0;
int y = 0;

// 0 is equivalent to facing north
// 1 is equivalent to facing east
// 2 is equivalent to facing south
// 3 is equivalent to facing west
int facing = 0;

int count = 0;</declaration>
		<location id="id0" x="-59" y="0">
		</location>
		<location id="id1" x="-365" y="-25">
		</location>
		<init ref="id0"/>
		<transition id="id2">
			<source ref="id1"/>
			<target ref="id0"/>
			<label kind="assignment" x="-280" y="-8">world[y][x] = 1,
count += 1</label>
		</transition>
		<transition id="id3">
			<source ref="id0"/>
			<target ref="id1"/>
			<label kind="guard" x="-689" y="-111">(facing == 3)&amp;&amp;(x &lt;= width-1)</label>
			<label kind="assignment" x="-621" y="-85">x += 1</label>
			<nail x="-68" y="-8"/>
			<nail x="-646" y="-187"/>
			<nail x="-595" y="-264"/>
		</transition>
		<transition id="id4">
			<source ref="id0"/>
			<target ref="id1"/>
			<label kind="guard" x="-518" y="187">(facing == 2)&amp;&amp;(y&gt;=1)</label>
			<label kind="assignment" x="-501" y="204">y -= 1</label>
			<nail x="-365" y="212"/>
			<nail x="-442" y="119"/>
			<nail x="-442" y="119"/>
		</transition>
		<transition id="id5">
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="assignment" x="212" y="-25">facing = (facing += 1)%4</label>
			<nail x="204" y="-110"/>
			<nail x="196" y="93"/>
		</transition>
		<transition id="id6">
			<source ref="id0"/>
			<target ref="id1"/>
			<label kind="guard" x="-93" y="119">facing == 1 &amp;&amp; x &gt;= 1</label>
			<label kind="assignment" x="-68" y="136">x -= 1</label>
			<nail x="-10" y="76"/>
			<nail x="-86" y="76"/>
			<nail x="-340" y="8"/>
		</transition>
		<transition id="id7">
			<source ref="id0"/>
			<target ref="id1"/>
			<label kind="guard" x="-178" y="-102">facing == 0 &amp;&amp; y &lt;= height - 1</label>
			<label kind="assignment" x="-68" y="-85">y += 1</label>
			<nail x="-93" y="-68"/>
			<nail x="-93" y="-68"/>
			<nail x="-93" y="-68"/>
		</transition>
	</template>
	<template>
		<name>win_check</name>
		<location id="id8" x="0" y="0">
		</location>
		<location id="id9" x="187" y="17">
			<name x="177" y="-17">winning_state</name>
		</location>
		<init ref="id8"/>
		<transition id="id10">
			<source ref="id8"/>
			<target ref="id9"/>
			<label kind="guard" x="42" y="-17">world == win</label>
		</transition>
		<transition id="id11">
			<source ref="id8"/>
			<target ref="id8"/>
			<label kind="guard" x="-92" y="-148">world != win</label>
			<nail x="-110" y="-229"/>
			<nail x="85" y="-187"/>
		</transition>
	</template>
	<system>// Place template instantiations here.
P_1 = Robot();
P_w = win_check();
// List one or more processes to be composed into a system.
system P_1, P_w;
</system>
	<queries>
		<query>
			<formula>E&lt;&gt;P_w.winning_state</formula>
			<comment/>
			<option key="--diagnostic" value="1"/>
		</query>
		<query>
			<formula/>
			<comment/>
		</query>
	</queries>
</nta>
